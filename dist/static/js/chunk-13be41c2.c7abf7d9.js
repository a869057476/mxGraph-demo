(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13be41c2"],{"0ed7":function(e,t,a){},"3deb":function(e,t,a){"use strict";a("0ed7")},c5d3:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("button",{attrs:{small:"",color:"primary"},on:{click:e.save}},[e._v("保存")]),a("button",{attrs:{small:"",color:"primary"},on:{click:e.clear}},[e._v("清空")])]),a("div",{ref:"container",staticClass:"custom-container"})])},l=[],r=a("b493"),n=r["a"].mxGraph,s=r["a"].mxGraphModel,i=r["a"].mxUtils,g=r["a"].mxCell,m=r["a"].mxToolbar,c=r["a"].mxGeometry,p=r["a"].mxEvent,d=r["a"].mxCodec,h=n,u=s,x=i,f=g,v=m,b=c,y=p,w=d,S={name:"MxgraphEdit",data:function(){return{model:null,graph:null}},mounted:function(){var e=this,t=localStorage.getItem("mxgraphjson")?JSON.parse(localStorage.getItem("mxgraphjson")):{},a=this.$x2js.js2xml(t);console.log(a),console.log(t),console.log("MxgraphEdit");var o=document.createElement("div");o.style.position="absolute",o.style.overflow="hidden",o.style.padding="2px",o.style.left="0px",o.style.top="0px",o.style.width="24px",o.style.bottom="0px",this.$refs.container.appendChild(o);var l=new v(o);l.enabled=!1;var r=document.createElement("div");r.style.position="absolute",r.style.overflow="hidden",r.style.left="24px",r.style.top="0px",r.style.right="0px",r.style.bottom="0px",r.style.background='url("./mxgraph/images/grid.gif")',this.$refs.container.appendChild(r),this.model=new u,this.graph=new h(r,this.model),this.graph.setConnectable(!0),this.graph.setMultigraph(!1);var n=function(t,a,o,r){var n=new f(null,new b(0,0,a,o),r);n.setVertex(!0);var s=e.addToolbarItem(e.graph,l,n,t);s.enabled=!0,e.graph.getSelectionModel().addListener(y.CHANGE,(function(){var t=e.graph.isSelectionEmpty();x.setOpacity(s,t?100:20),s.enabled=t}))};n("./mxgraph/images/rectangle.gif",100,40,""),n("./mxgraph/images/rounded.gif",100,40,"shape=rounded"),n("./mxgraph/images/ellipse.gif",40,40,"shape=ellipse"),n("./mxgraph/images/rhombus.gif",40,40,"shape=rhombus"),n("./mxgraph/images/triangle.gif",40,40,"shape=triangle"),n("./mxgraph/images/cylinder.gif",40,40,"shape=cylinder"),n("./mxgraph/images/actor.gif",30,40,"shape=actor");var s=x.parseXml(a),i=new w(s);i.decode(s.documentElement,this.graph.getModel())},methods:{addToolbarItem:function(e,t,a,o){var l=function(e,t,o,l,r){e.stopEditing(!1);var n=e.getModel().cloneCell(a);n.geometry.x=l,n.geometry.y=r,e.addCell(n),e.setSelectionCell(n)},r=t.addMode(null,o,(function(t,a){var o=this.graph.getPointForEvent(t);l(e,t,a,o.x,o.y)}));return y.addListener(r,"mousedown",(function(e){!1===r.enabled&&y.consume(e)})),x.makeDraggable(r,e,l),r},save:function(){var e=new w,t=e.encode(this.graph.getModel()),a=i.getXml(t),o=this.$x2js.xml2js(a);localStorage.setItem("mxgraphxml",a),localStorage.setItem("mxgraphjson",JSON.stringify(o)),console.log(a),console.log(o)},clear:function(){localStorage.removeItem("mxgraphxml"),localStorage.removeItem("mxgraphjson");var e=localStorage.getItem("mxgraphjson")?JSON.parse(localStorage.getItem("mxgraphjson")):{},t=this.$x2js.js2xml(e);console.log(t),console.log(e),this.graph.removeCells(this.graph.getChildVertices(this.graph.getDefaultParent()))}}},j=S,C=(a("3deb"),a("2877")),E=Object(C["a"])(j,o,l,!1,null,"3d571b10",null);t["default"]=E.exports}}]);
//# sourceMappingURL=chunk-13be41c2.c7abf7d9.js.map